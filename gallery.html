<div class="content">
    <div class="gallery">
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1542931287-023b922fa89b?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fEphcGFufGVufDB8fDB8fHww" alt="Plant"></a>
            <figcaption>1</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1554797589-7241bb691973?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fEphcGFufGVufDB8fDB8fHww" alt="Man with facial tattoo"></a>
            <figcaption>2</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://plus.unsplash.com/premium_photo-1673285286254-d0d0e465e0fd?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fEphcGFufGVufDB8fDB8fHww" alt="Leasure"></a>
            <figcaption>3</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1491884662610-dfcd28f30cfb?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTh8fEphcGFufGVufDB8fDB8fHww" alt="Pretty colors"></a>
            <figcaption>4</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://plus.unsplash.com/premium_photo-1674824835422-1447f5901086?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjV8fEphcGFufGVufDB8fDB8fHww" alt="Architecture"></a>
            <figcaption>5</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1505069446780-4ef442b5207f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjZ8fEphcGFufGVufDB8fDB8fHww" alt="Beach"></a>
            <figcaption>6</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1576675466969-38eeae4b41f6?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mjd8fEphcGFufGVufDB8fDB8fHww" alt="Mountains"></a>
            <figcaption>7</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1493589976221-c2357c31ad77?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzJ8fEphcGFufGVufDB8fDB8fHww" alt="Starry sky"></a>
            <figcaption>8</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1561503972-839d0c56de17?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTB8fEphcGFufGVufDB8fDB8fHww" alt="Forest"></a>
            <figcaption>9</figcaption>
        </figure>

        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1503899036084-c55cdd92da26?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDd8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>10</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1522333007-49d9d3ff4b8f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTJ8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>11</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1490761668535-35497054764d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTl8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>12</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1493997181344-712f2f19d87a?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NzB8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>13</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1558870832-c8db4b5b47d1?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8ODN8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>14</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://plus.unsplash.com/premium_photo-1661938685458-be35d49653cb?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nzd8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>15</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1574236170880-fbbca132d83d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8ODd8fEphcGFufGVufDB8fDB8fHww"" alt="City"></a>
            <figcaption>16</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1515361272650-f432a9320bd8?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8ODZ8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>17</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1596713109885-c94bdfd7f19d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTR8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>18</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1563288629-92c1b1ab05fe?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTZ8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>19</figcaption>
        </figure>
        <figure class="galleryItem">
            <a href="#"><img src="https://images.unsplash.com/photo-1592499494890-da4507c0c7d8?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OTh8fEphcGFufGVufDB8fDB8fHww" alt="City"></a>
            <figcaption>20</figcaption>
        </figure>

    </div>
</div>
<style>
    :root {
    font-family: sans-serif;
    font-size: 16px;
}

* {
    box-sizing: border-box;
}

.content {
    width: 100%;
    margin: auto;

    @media (min-width: 40em) {
        width: 40em;
    }

    @media (min-width: 80em) {
        width: 80em;
    }
}

.gallery {
    display: flex;
    flex-flow: row wrap;
    align-content: flex-start;
    align-items: stretch;
    width: 100%;
    margin: auto;

    .galleryItem {
        flex: 1 1 auto;
        margin: 0.3em;
        border: 1px solid black;
        position: relative;
        width: 12em;
        height: 13em;
        overflow: hidden;

        @media (min-width: 40em) {
            width: 10em;
            height: 10em;
        }

        @media (min-width: 80em) {
            width: 17em;
            height: 17em;
        }

        &:hover img {
            transform: scale(1.2);
        }
    }

    a {
        display: block;
        width: 100%;
        height: 100%;
    }

    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: .2s;
    }

    figcaption {
        background-color: rgba(#000 ,.4);
        color: #fff;
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 1em;
    }
}

.lightBoxOverlay {
    display: block;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: rgba(#000, .7);

    .closeButton {
        position: absolute;
        top: 0.5em;
        right: 0.5em;

        color: #000;
        background-color: #fff;
        font-size: 1.5em;
        border-radius: 1em;
        padding: 0.44em 0.66em;
        height: 2em;
        width: 2em;
        
        cursor: pointer;
        transition: .2s;
        
        &:hover {
            color: #fff;
            background-color: #000;
        }

        @media (min-width: 80em) {
            font-size: 2em;

            top: 1em;
            right: 1em;

            height: 2em;
            width: 2em;
        }
    }

    .container {
        margin: 0;
        display: flex;
        flex-flow: column nowrap;
        justify-content: center;
        align-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
        padding: 1em;

        @media (min-width: 40em) {
            padding: 3em;
        }

        @media (min-width: 80em) {
            padding: 5em;
        }
    }

    img {
        max-width: 100%;
        max-height: 100%;
    }

    figcaption {
        margin-top: 1em;
        padding: 0.5em 1em;
        color: #fff;
        background: rgba(0,0,0, .7);
        border-radius: 5em;
    }
}

</style>

    <script>
        let galleryItems = document.querySelectorAll('.galleryItem');

const closeLightBox = (galleryItem, overlay) => {
    let originLinkTag = galleryItem.querySelector('a');
    let image = overlay.querySelector('img');
    let caption = overlay.querySelector('figcaption');    
    
    // move image and caption back to their original parents
    originLinkTag.appendChild(image);
    galleryItem.appendChild(caption);
    
    // remove the light box overlay
    document.body.removeChild(overlay)
}

const openLightBox = (galleryItem) => {
    // create the overlay to darken the page
    let lightBoxOverlay = document.createElement('div');
    lightBoxOverlay.classList.add('lightBoxOverlay');

    // create the close button
    let lightBoxClose = document.createElement('a');
    lightBoxClose.innerText = 'X';
    lightBoxClose.classList.add('closeButton');
    lightBoxOverlay.appendChild(lightBoxClose);    

    // create a container for the image
    let lightBoxImageContainer = document.createElement('figure');
    lightBoxImageContainer.classList.add('container');
    lightBoxOverlay.appendChild(lightBoxImageContainer);

    // take the already existing image and move it into the overlay container
    let image = galleryItem.querySelector('img');
    lightBoxImageContainer.appendChild(image);
    
    // take the already existing figcaption and move it into the overlay container
    let caption = galleryItem.querySelector('figcaption');
    lightBoxImageContainer.appendChild(caption);
    
    // add a closing routine to close button
    lightBoxClose.addEventListener('click', (e) => {
        e.preventDefault();
        closeLightBox(galleryItem, lightBoxOverlay);
    });
    
    // display the overlay
    document.body.appendChild(lightBoxOverlay);
}

galleryItems.forEach(el => {
    let linkTag = el.querySelector('a');
    linkTag.addEventListener('click', (e) => {
        e.preventDefault();
        openLightBox(el);
    });
});

        </script>